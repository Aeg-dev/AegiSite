<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://aeg-dev.github.io/AegiSite/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://aeg-dev.github.io/AegiSite/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://aeg-dev.github.io/AegiSite/main.569569a1e015e4f3bc7712f044c9f89bcb53f94c8171f6c68b4bf3f48750e955d2fafceda6e7e8afd0b9e26e60a2e4c8fde6fab574d7047d87e2e4005aa21c58.css integrity="sha512-VpVpoeAV5PO8dxLwRMn4m8tT+UyBcfbGi0vz9IdQ6VXS+vztpufor9C54m5gouTI/eb6tXTXBH2H4uQAWqIcWA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>- Aegisub</title><meta name=description content="Aegisub is a free, cross-platform open source tool for creating and modifying subtitles. Aegisub makes it quick and easy to time subtitles to audio, and features many powerful tools for styling them, including a built-in real-time video preview."><link rel=canonical href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/tutorial_2/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/doks.png"><meta name=twitter:title content><meta name=twitter:description content="In [[the previous tutorial|Automation/Karaoke_Templater/Tutorial_1]] we saw how to use the basic features of Karaoke Templater to make simple karaoke effects. We&rsquo;ll continue where we left off here, by expanding on the basics from last tutorial.
{::template name=&ldquo;todo&rdquo;}make and insert screenshots{:/}
Preparations As before, you&rsquo;ll still need some timed karaoke and a video to preview the effects. I won&rsquo;t go into further details with that here.
Adding a fadeout To recap, here&rsquo;s the effect from the end of last tutorial:"><meta name=twitter:site content="@henkverlinde"><meta name=twitter:creator content="@henkverlinde"><meta property="og:title" content><meta property="og:description" content="In [[the previous tutorial|Automation/Karaoke_Templater/Tutorial_1]] we saw how to use the basic features of Karaoke Templater to make simple karaoke effects. We&rsquo;ll continue where we left off here, by expanding on the basics from last tutorial.
{::template name=&ldquo;todo&rdquo;}make and insert screenshots{:/}
Preparations As before, you&rsquo;ll still need some timed karaoke and a video to preview the effects. I won&rsquo;t go into further details with that here.
Adding a fadeout To recap, here&rsquo;s the effect from the end of last tutorial:"><meta property="og:type" content="article"><meta property="og:url" content="/docs/3.2/en/automation/karaoke_templater/tutorial_2/"><meta property="og:image" content="/doks.png"><meta property="og:site_name" content="Aegisub"><meta property="article:publisher" content="https://www.facebook.com/verlinde.henk"><meta property="article:author" content="https://www.facebook.com/verlinde.henk"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/aeg-dev.github.io\/AegiSite\/"},{"@type":"ListItem","position":3,"name":"Docs","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/"},{"@type":"ListItem","position":4,"name":"3.2","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/"},{"@type":"ListItem","position":5,"name":"En","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/"},{"@type":"ListItem","position":6,"name":"Automation","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/automation\/"},{"@type":"ListItem","position":7,"name":"Karaoke Templater","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/automation\/karaoke_templater\/"},{"@type":"ListItem","position":8,"name":"Tutorial 2","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/automation\/karaoke_templater\/tutorial_2\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://aeg-dev.github.io/AegiSite/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://aeg-dev.github.io/AegiSite/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://aeg-dev.github.io/AegiSite/favicon-16x16.png><link rel=manifest href=https://aeg-dev.github.io/AegiSite/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://aeg-dev.github.io/AegiSite/>Aegisub</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/Aegisub/Aegisub><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2 text-nowrap"><li class=nav-item><a class=nav-link href=https://aeg-dev.github.io/AegiSite/downloads/main/>Downloads</a></li><li class="nav-item active"><a class=nav-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/main_page/>Docs</a></li><li class=nav-item><a class=nav-link href=https://github.com/Aegisub/Aegisub/issues>Bug Tracker</a></li><li class=nav-item><a class=nav-link href=https://aeg-dev.github.io/AegiSite/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=http://blog.aegisub.org/>Old News</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Navigation</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/main_page/>Main Page</a></li></ul><h3>Introduction</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/about/>What is Aegisub?</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/highlights/>Highlights</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/credits/>Credits</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/support/>Support Aegisub</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/faq/>FAQ</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/tutorials/>Tutorials</a></li></ul><h3>Working with Subtitles</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/editing_subtitles/>Editing Subtitles</a></li></ul><h3>Typesetting</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/typesetting/>Typesetting Introduction</a></li></ul><h3>Timing</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/audio/>Working with Audio</a></li></ul><h3>Automation</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/>Overview</a></li></ul><h3>Miscellaneous</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/options/>Aegisub Options</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/properties/>Script Properties</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/attachment_manager/>Attachment Manager</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#preparations>Preparations</a></li><li><a href=#adding-a-fadeout>Adding a fadeout</a></li><li><a href=#tweaking-the-growshrink-effect>Tweaking the grow/shrink effect</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1></h1><p class=lead></p><p>In [[the previous tutorial|Automation/Karaoke_Templater/Tutorial_1]] we saw how to use the basic features of Karaoke Templater to make simple karaoke effects. We&rsquo;ll continue where we left off here, by expanding on the basics from last tutorial.</p><p>{::template name=&ldquo;todo&rdquo;}make and insert screenshots{:/}</p><h2 id=preparations>Preparations<a href=#preparations class=anchor aria-hidden=true>#</a></h2><p>As before, you&rsquo;ll still need some timed karaoke and a video to preview the effects. I won&rsquo;t go into further details with that here.</p><h2 id=adding-a-fadeout>Adding a fadeout<a href=#adding-a-fadeout class=anchor aria-hidden=true>#</a></h2><p>To recap, here&rsquo;s the effect from the end of last tutorial:</p><pre><code>{\r\k$kdur\t($start,$end,\1c&amp;H00FF00&amp;)\t($start,$mid,\fscy120)\t($mid,$end,\fscy100)}
</code></pre><p>We&rsquo;ll add a fadeout effect to this now, having each syllable fade out <em>after</em> it has been sung, not while. We&rsquo;ll have to do a little maths to make this: Start the fadeout at <code>$end</code> and have it continue until <code>$end+200</code>, ie. have it fade out for 200 milliseconds after the syllable.</p><p>Change the template to this:</p><pre><code>{\r\k$kdur\t($start,$end,\1c&amp;H00FF00&amp;)\t($start,$mid,\fscy120)\t($mid,$end,\fscy100)\t($end,!$end+200!,\alpha&amp;HFF&amp;)}
</code></pre><p>Then try applying templates again. You should see the old effect happen as usual, but this time afterwards, each syllable fades out.</p><p>The magic in this is the exclamation marks here: <code>!$end+200!</code></p><p>When you have a pair of exclamation marks like that, everything in between them is treated as an <em>expression</em> (actually a very small Lua program, but don&rsquo;t worry about that yet.) Here we use an expression to take the end-time of the syllable and add 200 to it, getting a new number. The end result is that the <tt>\t</tt> fadeout effect lasts from <code>$end</code> and until 200 milliseconds later.</p><h2 id=tweaking-the-growshrink-effect>Tweaking the grow/shrink effect<a href=#tweaking-the-growshrink-effect class=anchor aria-hidden=true>#</a></h2><p>Maybe you think the growing-shrinking effect looks a bit odd, switching right in the middle. It might look better if it was at the maximum height earlier, and used more time shrinking back to normal. Well, that can be changed:</p><pre><code>{\r\k$kdur\t($start,$end,\1c&amp;H00FF00&amp;)\t($start,!$start+$dur*0.3!,\fscy120)\t(!$start+$dur*0.3!,$end,\fscy100)}
</code></pre><p>With this, the growing-part will only take the first three-tenths of the syllable duration, and the shrinking the rest. We used one new variable here, <code>$dur</code>. This is the duration of the syllable in milliseconds, just like <code>$kdur</code> is the duration in centiseconds. (We could actually just as well just have used <code>$kdur</code> here, and then multiplied by 3 instead of 0.3.)</p><p>Note that I removed the fadeout from here, it&rsquo;s just to make the line shorter and easier to read. You can add it back if you want.</p><p>Hopefully this tutorial has given you some more ideas of what you can do. In [[the next one|Automation/Karaoke_Templater/Tutorial_3]] we&rsquo;ll add another layer to the effect by using multiple templates!</p><div class="docs-navigation d-flex justify-content-between"><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/tutorial_1/><div class="card my-1"><div class="card-body py-2">&larr;</div></div></a><a class=ms-auto href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/lua/><div class="card my-1"><div class="card-body py-2">&rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://www.networkredux.com/>NetworkRedux</a>, <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=https://aeg-dev.github.io/AegiSite/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=https://aeg-dev.github.io/AegiSite/js/highlight.min.23f16da133548e29aa8de3077755353b92ab613aeb6543a7f26b0e897536bde8c6fe45e68ef6d13d6de184f6b7199e781aaebd156dbcaacd50e849b8b2ec0991.js integrity="sha512-I/FtoTNUjimqjeMHd1U1O5KrYTrrZUOn8msOiXU2vejG/kXmjvbRPW3hhPa3GZ54Gq69FW28qs1Q6Em4suwJkQ==" crossorigin=anonymous defer></script><script src=https://aeg-dev.github.io/AegiSite/main.min.cb1cfa565384689404329cbf8ad4a175b59ac6421a528ad947882d8242fc7b62b773cd5967a10349256154f6a67bcdeeb3da0729191ddd4f5623442999e53004.js integrity="sha512-yxz6VlOEaJQEMpy/itShdbWaxkIaUorZR4gtgkL8e2K3c81ZZ6EDSSVhVPame83us9oHKRkd3U9WI0QpmeUwBA==" crossorigin=anonymous defer></script><script src=https://aeg-dev.github.io/AegiSite/index.min.3cb45224a0dba2c3a14767bedce22c2898e358b9c00aed2f5ffcfb2c877db05acc5e34ccda5a45970faeed72714eb9574276f11c9f05e2d382af99f4ac22096a.js integrity="sha512-PLRSJKDbosOhR2e+3OIsKJjjWLnACu0vX/z7LId9sFrMXjTM2lpFlw+u7XJxTrlXQnbxHJ8F4tOCr5n0rCIJag==" crossorigin=anonymous defer></script></body></html>