<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://aeg-dev.github.io/AegiSite/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://aeg-dev.github.io/AegiSite/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://aeg-dev.github.io/AegiSite/main.569569a1e015e4f3bc7712f044c9f89bcb53f94c8171f6c68b4bf3f48750e955d2fafceda6e7e8afd0b9e26e60a2e4c8fde6fab574d7047d87e2e4005aa21c58.css integrity="sha512-VpVpoeAV5PO8dxLwRMn4m8tT+UyBcfbGi0vz9IdQ6VXS+vztpufor9C54m5gouTI/eb6tXTXBH2H4uQAWqIcWA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>- Aegisub</title><meta name=description content="Aegisub is a free, cross-platform open source tool for creating and modifying subtitles. Aegisub makes it quick and easy to time subtitles to audio, and features many powerful tools for styling them, including a built-in real-time video preview."><link rel=canonical href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/doks.png"><meta name=twitter:title content><meta name=twitter:description content="Karaoke Templater is an Automation script that ships with Aegisub. Its primary purpose is to help creating karaoke effects with a specially designed template language. Karaoke Templater is already installed and ready to use along with Aegisub.
Tutorials: Introducing Karaoke Templater  A simple example Using math expressions Using multiple template lines More advanced effects with positioned syllables  {::template name=&ldquo;todo&rdquo;}Plan more tutorials. Also actually write those above.{:/}
Reference  Declaring template and code lines Rules for when and in what order templates are run Template modifiers Inline variables (dollar-variables) Rules for code blocks and code lines Contents of the code block/line execution environment  Also see the Automation/Lua/Modules/karaskel."><meta name=twitter:site content="@henkverlinde"><meta name=twitter:creator content="@henkverlinde"><meta property="og:title" content><meta property="og:description" content="Karaoke Templater is an Automation script that ships with Aegisub. Its primary purpose is to help creating karaoke effects with a specially designed template language. Karaoke Templater is already installed and ready to use along with Aegisub.
Tutorials: Introducing Karaoke Templater  A simple example Using math expressions Using multiple template lines More advanced effects with positioned syllables  {::template name=&ldquo;todo&rdquo;}Plan more tutorials. Also actually write those above.{:/}
Reference  Declaring template and code lines Rules for when and in what order templates are run Template modifiers Inline variables (dollar-variables) Rules for code blocks and code lines Contents of the code block/line execution environment  Also see the Automation/Lua/Modules/karaskel."><meta property="og:type" content="article"><meta property="og:url" content="/docs/3.2/en/automation/karaoke_templater/"><meta property="og:image" content="/doks.png"><meta property="og:site_name" content="Aegisub"><meta property="article:publisher" content="https://www.facebook.com/verlinde.henk"><meta property="article:author" content="https://www.facebook.com/verlinde.henk"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/aeg-dev.github.io\/AegiSite\/"},{"@type":"ListItem","position":3,"name":"Docs","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/"},{"@type":"ListItem","position":4,"name":"3.2","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/"},{"@type":"ListItem","position":5,"name":"En","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/"},{"@type":"ListItem","position":6,"name":"Automation","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/automation\/"},{"@type":"ListItem","position":7,"name":"Karaoke Templater","item":"https:\/\/aeg-dev.github.io\/AegiSite\/\/docs\/3.2\/en\/automation\/karaoke_templater\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://aeg-dev.github.io/AegiSite/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://aeg-dev.github.io/AegiSite/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://aeg-dev.github.io/AegiSite/favicon-16x16.png><link rel=manifest href=https://aeg-dev.github.io/AegiSite/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://aeg-dev.github.io/AegiSite/>Aegisub</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/Aegisub/Aegisub><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2 text-nowrap"><li class=nav-item><a class=nav-link href=https://aeg-dev.github.io/AegiSite/downloads/main/>Downloads</a></li><li class="nav-item active"><a class=nav-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/main_page/>Docs</a></li><li class=nav-item><a class=nav-link href=https://github.com/Aegisub/Aegisub/issues>Bug Tracker</a></li><li class=nav-item><a class=nav-link href=https://aeg-dev.github.io/AegiSite/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=http://blog.aegisub.org/>Old News</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Navigation</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/main_page/>Main Page</a></li></ul><h3>Introduction</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/about/>What is Aegisub?</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/highlights/>Highlights</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/credits/>Credits</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/support/>Support Aegisub</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/faq/>FAQ</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/tutorials/>Tutorials</a></li></ul><h3>Working with Subtitles</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/editing_subtitles/>Editing Subtitles</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/exporting/>Exporting Subtitles</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/attaching_subtitles_to_video/>Applying Subtitles</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/spell_checker/>Spell Checker</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/translation_assistant/>Translation Assistant</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/paste_over/>Paste Over</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/select_lines/>Select Lines</a></li></ul><h3>Typesetting</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/typesetting/>Typesetting Introduction</a></li></ul><h3>Timing</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/audio/>Working with Audio</a></li></ul><h3>Automation</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/>Overview</a></li></ul><h3>Miscellaneous</h3><ul class=list-unstyled><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/options/>Aegisub Options</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/properties/>Script Properties</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/attachment_manager/>Attachment Manager</a></li><li><a class=docs-link href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/commands/>Commands</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#tutorials-introducing-karaoke-templater>Tutorials: Introducing Karaoke Templater</a></li><li><a href=#reference>Reference</a></li><li><a href=#for-users-of-_multi-template_>For users of <em>multi-template</em></a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1></h1><p class=lead></p><p><strong>Karaoke Templater</strong> is an <a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/>Automation</a> script that ships with Aegisub. Its
primary purpose is to help creating <a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/glossary/karaoke_effect/>karaoke effects</a>
with a specially designed template language. Karaoke Templater is already
installed and ready to use along with Aegisub.</p><h2 id=tutorials-introducing-karaoke-templater>Tutorials: Introducing Karaoke Templater<a href=#tutorials-introducing-karaoke-templater class=anchor aria-hidden=true>#</a></h2><ul><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/tutorial_1/>A simple example</a></li><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/tutorial_2/>Using math expressions</a></li><li><a href=#>Using multiple template lines</a></li><li><a href=#>More advanced effects with positioned syllables</a></li></ul><p>{::template name=&ldquo;todo&rdquo;}Plan more tutorials. Also actually write those above.{:/}</p><h2 id=reference>Reference<a href=#reference class=anchor aria-hidden=true>#</a></h2><ul><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/declaring_template_and_code_lines/>Declaring template and code lines</a></li><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/template_execution_rules_and_order/>Rules for when and in what order templates are run</a></li><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/template_modifiers/>Template modifiers</a></li><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/inline_variables/>Inline variables (dollar-variables)</a></li><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/code_lines_and_blocks/>Rules for code blocks and code lines</a></li><li><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/code_execution_environment/>Contents of the code block/line execution environment</a></li></ul><p>Also see the <a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/lua/modules/karaskel.lua/><code>Automation/Lua/Modules/karaskel.lua</code></a> section for more
information on what&rsquo;s in the <code>line</code> and <code>syl</code> variables, and more.</p><h2 id=for-users-of-_multi-template_>For users of <em>multi-template</em><a href=#for-users-of-_multi-template_ class=anchor aria-hidden=true>#</a></h2><p>If you have used the <em>multi-template</em> script from Aegisub 1.10 you should
recognise several similar concepts in the karaoke templater, but there are also
several pitfalls. Some of them are:</p><ul><li>You no longer declare template lines in the Actor field but in the Effect
field instead. You can also put much more than just <code>template</code> in there. Read
the tutorials above for an introduction, or the reference below if you feel
adventurous.</li><li>Instead of using percent-signs to write Lua code blocks you use exclamation
marks. So write <code>!$start+$i*30!</code> instead of <code>%$start+$i*30%</code>.</li><li>The <code>A</code> global is gone, but <code>line</code> and <code>syl</code> are directly accessible. The
escaped Lua code is no longer run in the true global environment but instead
in its own environment, so clashes between your templates and Karaoke
Templater itself is much less probable.</li><li>The <code>return false</code> hack to cancel execution of a template no longer works.
Neither does having multi-statement Lua blocks and returning from them in
general. For the first purpose the <code>fxgroup</code> functionality has been
introduced, and for your multi-statement needs code lines have been
introduced.</li><li>Instead of working with <code>newline</code> and <code>line</code> (for being-generated and
original line) you now work with <code>line</code> and <code>orgline</code> for being-generated and
original lines.</li><li>The <code>retime</code> function has been introduced to make it much easier to control
the start and end times of your generated lines.</li><li>Lots of more fancy features. Check the tutorials or read the reference to
learn about it all.</li></ul><p>{::template name=&ldquo;automation_navbox&rdquo; /}</p><div class="docs-navigation d-flex justify-content-between"><a href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/included_macros/><div class="card my-1"><div class="card-body py-2">&larr;</div></div></a><a class=ms-auto href=https://aeg-dev.github.io/AegiSite/docs/3.2/en/automation/karaoke_templater/code_execution_environment/><div class="card my-1"><div class="card-body py-2">&rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://www.networkredux.com/>NetworkRedux</a>, <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=https://aeg-dev.github.io/AegiSite/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=https://aeg-dev.github.io/AegiSite/js/highlight.min.23f16da133548e29aa8de3077755353b92ab613aeb6543a7f26b0e897536bde8c6fe45e68ef6d13d6de184f6b7199e781aaebd156dbcaacd50e849b8b2ec0991.js integrity="sha512-I/FtoTNUjimqjeMHd1U1O5KrYTrrZUOn8msOiXU2vejG/kXmjvbRPW3hhPa3GZ54Gq69FW28qs1Q6Em4suwJkQ==" crossorigin=anonymous defer></script><script src=https://aeg-dev.github.io/AegiSite/main.min.cb1cfa565384689404329cbf8ad4a175b59ac6421a528ad947882d8242fc7b62b773cd5967a10349256154f6a67bcdeeb3da0729191ddd4f5623442999e53004.js integrity="sha512-yxz6VlOEaJQEMpy/itShdbWaxkIaUorZR4gtgkL8e2K3c81ZZ6EDSSVhVPame83us9oHKRkd3U9WI0QpmeUwBA==" crossorigin=anonymous defer></script><script src=https://aeg-dev.github.io/AegiSite/index.min.ec31c8ce005750d9d67b8e55fc3387762b558320966e8855929736b2757acc10586b7b7aa8933cddb246759b53af572e397dd2a3fe04151ef1cedbb6d66dd75b.js integrity="sha512-7DHIzgBXUNnWe45V/DOHditVgyCWbohVkpc2snV6zBBYa3t6qJM83bJGdZtTr1cuOX3So/4EFR7xztu21m3XWw==" crossorigin=anonymous defer></script></body></html>